diff --git a/gnulib b/gnulib
--- a/gnulib
+++ b/gnulib
@@ -1 +1 @@
-Subproject commit 405cd675384221b541b460c43de26d159914fe0a
+Subproject commit 405cd675384221b541b460c43de26d159914fe0a-dirty
diff --git a/src/shred.c b/src/shred.c
index a317c4439..4cb6b4aa3 100644
--- a/src/shred.c
+++ b/src/shred.c
@@ -288,9 +288,13 @@ fillpattern (int type, unsigned char *r, size_t size)
   r[1] = (bits >> 8) & 255;
   r[2] = bits & 255;
   for (i = 3; i < size / 2; i *= 2)
-    memcpy (r + i, r, i);
+// FIXME: Crash
+    /* Use memmove because source and destination ranges may overlap when
+       doubling the filled region. memcpy has undefined behavior on overlap. */
+     memmove (r + i, r, i);
   if (i < size)
-    memcpy (r + i, r, size - i);
+    /* Same reason as above: the tail copy can overlap, so use memmove. */
+    memmove (r + i, r, size - i);
 
   /* Invert the first bit of every sector. */
   if (type & 0x1000)
