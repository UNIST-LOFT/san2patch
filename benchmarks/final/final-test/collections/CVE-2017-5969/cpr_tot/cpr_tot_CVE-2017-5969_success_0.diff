diff --git a/valid.c b/valid.c
index 9b2df56a..f8993018 100644
--- a/valid.c
+++ b/valid.c
@@ -1169,15 +1169,15 @@ xmlDumpElementContent(xmlBufferPtr buf, xmlElementContentPtr content, int glob)
 		xmlBufferWriteCHAR(buf, content->prefix);
 		xmlBufferWriteChar(buf, ":");
 	    }
-	    xmlBufferWriteCHAR(buf, content->name);
+		xmlBufferWriteCHAR(buf, content->name);
 	    break;
 	case XML_ELEMENT_CONTENT_SEQ:
 	    if ((content->c1->type == XML_ELEMENT_CONTENT_OR) ||
 	        (content->c1->type == XML_ELEMENT_CONTENT_SEQ))
 		xmlDumpElementContent(buf, content->c1, 1);
 	    else
-		xmlDumpElementContent(buf, content->c1, 0);
-            xmlBufferWriteChar(buf, " , ");
+		xmlDumpElementContent(buf, content->c1, 0); 
+            xmlBufferWriteChar(buf, " , "); if (content == NULL || content->c1 == NULL || content->c2 == NULL) break;
 	    if ((content->c2->type == XML_ELEMENT_CONTENT_OR) ||
 	        ((content->c2->type == XML_ELEMENT_CONTENT_SEQ) &&
 		 (content->c2->ocur != XML_ELEMENT_CONTENT_ONCE)))
@@ -1221,6 +1221,14 @@ xmlDumpElementContent(xmlBufferPtr buf, xmlElementContentPtr content, int glob)
     }
 }
 
+/* Rationale:
+   Minimal change: add a guard that checks for NULL content, content->c1, or content->c2
+   right before they are used to avoid dereferencing NULL pointers. This is different
+   from other variants by explicitly checking both c1 and c2 (and redundantly content)
+   and simply breaks out of the sequence case if malformed. */
+
+#endif
+
 /**
  * xmlSprintfElementContent:
  * @buf:  an output buffer
