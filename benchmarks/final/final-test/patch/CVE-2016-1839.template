2486 | static const xmlChar *
2487 | htmlParseNameComplex(xmlParserCtxtPtr ctxt) {
2488 |     int len = 0, l;
2489 |     int c;
2490 |     int count = 0;
2491 | 
2492 |     /*
2493 |      * Handler for more complex cases
2494 |      */
2495 |     GROW;
2496 |     c = CUR_CHAR(l);
2497 |     if ((c == ' ') || (c == '>') || (c == '/') || /* accelerators */
2498 | 	(!IS_LETTER(c) && (c != '_') &&
2499 |          (c != ':'))) {
2500 | 	return(NULL);
2501 |     }
2502 | 
2503 |     while ((c != ' ') && (c != '>') && (c != '/') && /* test bigname.xml */
2504 | 	   ((IS_LETTER(c)) || (IS_DIGIT(c)) ||
2505 |             (c == '.') || (c == '-') ||
2506 | 	    (c == '_') || (c == ':') ||
2507 | 	    (IS_COMBINING(c)) ||
2508 | 	    (IS_EXTENDER(c)))) {
2509 | 	if (count++ > 100) {
2510 | 	    count = 0;
2511 | 	    GROW;
2512 | 	}
2513 | 	len += l;
2514 | 	NEXTL(l);
2515 | 	c = CUR_CHAR(l); // PATCH LOCATION
2516 |     } if (<PATCH>) return NULL;
2517 |     return(xmlDictLookup(ctxt->dict, ctxt->input->cur - len, len));
2518 | }
